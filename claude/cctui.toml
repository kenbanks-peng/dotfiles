[cctui]
version = "1.0"

# Platform configuration
[cctui.platform.claude]
name = "Claude Code"
ascii = """

 ▐▛███▜▌   Claude Code
▝▜█████▛▘
  ▘▘ ▝▝"""
accent-color = "#5588FF"
enabled = true

# ============================================================================
# Service Definitions
# ============================================================================

[cctui.service.mcp]
name = "MCP"
enabled = true
order = 1

[cctui.service.tool]
name = "Tools"
enabled = true
order = 2

[cctui.service.agent]
name = "Agents"
enabled = true
order = 3

# ============================================================================
#                              MCP Servers
# ============================================================================

# see github mcp registry: https://github.com/mcp
[mcp]

[mcp.config.claude]
config-file = ".mcp.json"

# markitdown - 82,000 github mcp downloads
[mcp.markitdown]
type = "stdio"
command = "uvx"
args = ["--python", "3.13", "--prerelease", "allow", "markitdown-mcp"]

# npmjs - 35,000 github mcp downloads
[mcp.context7]
type = "stdio"
command = "bunx"
args = ["@upstash/context7-mcp"]

# github - 24,000 github mcp downloads
[mcp.github]
type = "sse"
url = "https://api.githubcopilot.com/mcp"
headers = { Authorization = "Bearer $GITHUB_PERSONAL_ACCESS_TOKEN" }

# workflow ??
[mcp.linear]
type = "stdio"
command = "bunx"
args = ["mcp-remote", "https://mcp.linear.app/sse"]

# ??
[mcp.n8n-mcp]
command = "bunx"
args = ["n8n-mcp"]
env = { MCP_MODE = "stdio", LOG_LEVEL = "error", DISABLE_CONSOLE_OUTPUT = "true" }

# ?? ast-grep

# ok
[mcp.Obsidian]
command = "bunx"
args = ["mcp-obsidian", "$OBSIDIAN_VAULT"]

# # playwright - 22,000 github mcp downloads
# [mcp.playwright]
# command = ["bunx", "@playwright/mcp@latest"]
# env = { OPENAI_API_KEY = "$OPENAI_API_KEY" }

# # needed ?? opencode uses lsps
# [mcp.lint]
# type = "local"
# command = ["$BINPATH/mcp_biome"]

# # web dev ??
# [mcp.chrome-devtools]
# type = "local"
# command = ["bunx", "chrome-devtools-mcp@latest"]

# # ok
# [mcp.mermaid]
# type = "local"
# command = ["bunx", "mcp-mermaid"]

# # for big projects??
# [mcp.serena]
# type = "local"
# command = [
#     "uvx",
#     "--from",
#     "git+https://github.com/oraios/serena",
#     "serena",
#     "start-mcp-server",
#     "--context",
#     "ide-assistant",
#     "--project",
#     "$PWD",
# ]

# # ??
# [mcp.seagoat]
# type = "local"
# command = ["$BINPATH/mcp_seagoat"]

# # ok
# [mcp.mcp-server-chart]
# command = ["bunx", "@antv/mcp-server-chart"]


# redundant in claude and opencode

# [mcp.sequential-thinking]
# command = ["bunx", "@modelcontextprotocol/server-sequential-thinking"]

# [mcp.memory]
# command = ["bunx", "@modelcontextprotocol/server-memory"]

# [mcp.filesystem]
# command = ["bunx", "@modelcontextprotocol/server-filesystem"]


# ============================================================================
#                                   Tools
# ============================================================================

[tool.github-spec-kit]
name = "GitHub Spec-kit"
description = "Initialize spec-kit with AI support"
installer = "command"
command = "uvx --from git+https://github.com/github/spec-kit.git specify init --here --ai claude"
stdin = "y\n"
env = ["PYTHONUNBUFFERED=1"]
detect-path = ".specify"
uninstall = """
rm -rf .specify
rm -rf .claude/commands/speckit*
rm -rf .claude/commands/specify.md
rm -rf .claude/commands/clarify.md
rm -rf .claude/commands/plan.md
rm -rf .claude/commands/tasks.md
rm -rf .claude/commands/analyze.md
rm -rf .claude/commands/implement.md
rm -rf .claude/commands/constitution.md
"""

[tool.openspec]
name = "OpenSpec"
description = "Initialize OpenSpec with AI support"
installer = "command"
command = "bunx @fission-ai/openspec@latest init --tools claude"
env = ["NODE_ENV=production"]
detect-path = "openspec"
uninstall = """
# Remove content between OPENSPEC markers
if [ -f CLAUDE.md ]; then
  sed -e '/<!-- OPENSPEC:START -->/,/<!-- OPENSPEC:END -->/d' -e '/./,$!d' CLAUDE.md > CLAUDE.md.tmp && mv CLAUDE.md.tmp CLAUDE.md || rm -f CLAUDE.md.tmp
fi
rm -rf openspec .claude/commands/openspec* AGENTS.md
"""

[tool.permissions]
name = "Permissions"
description = "Enable all tool permissions"
installer = "merge"
config-source-file = "permissions/permissions.json"
target-file = ".claude/settings.local.json"
detect-path = ".claude/settings.local.json"

# ============================================================================
# Agents
# ============================================================================
[agent.config.claude]
config-source-dir = "agent"
target-dir = "agent"
