# Service configuration
[[service]]
type = "agents"
name = "Agents"
enabled = true

[[service]]
type = "mcp"
name = "MCP"
enabled = true

[[service]]
type = "tools"
name = "Tools"
enabled = true

# Platform configuration
[[platform]]
id = "claude"
name = "Claude Code"
ascii = '''
   ▜         ▌            ▌   
▞▀▖▐ ▝▀▖▌ ▌▞▀▌▞▀▖ ▞▀▖▞▀▖▞▀▌▞▀▖
▌ ▖▐ ▞▀▌▌ ▌▌ ▌▛▀  ▌ ▖▌ ▌▌ ▌▛▀ 
▝▀  ▘▝▀▘▝▀▘▝▀▘▝▀▘ ▝▀ ▝▀ ▝▀▘▝▀▘
'''
config-file = ".mcp.json"
permissions-file = ".claude/settings.local.json"
agents-dir = ".claude/agent"
format = "claude"
accent-color = "#00AA00"
enabled = true

[[platform]]
id = "opencode"
name = "OpenCode"
ascii = '''
                    ▌   
▞▀▖▛▀▖▞▀▖▛▀▖▞▀▖▞▀▖▞▀▌▞▀▖
▌ ▌▙▄▘▛▀ ▌ ▌▌ ▖▌ ▌▌ ▌▛▀ 
▝▀ ▌  ▝▀▘▘ ▘▝▀ ▝▀ ▝▀▘▝▀▘
'''
config-file = "opencode.json"
permissions-file = "opencode.json"
agents-dir = ".opencode/agent"
format = "opencode"
accent-color = "#5588FF"
enabled = true

# Tool definitions
[tool.github-spec-kit]
name = "GitHub Spec-kit"
description = "Initialize spec-kit with AI support"

[tool.github-spec-kit.install.claude]
command = "uvx --from git+https://github.com/github/spec-kit.git specify init --here --ai claude"
stdin = "y\n"
env = ["PYTHONUNBUFFERED=1"]
detect-path = ".specify"
uninstall-paths = [
    ".specify",
    ".claude/commands/speckit*",
    ".claude/commands/specify.md",
    ".claude/commands/clarify.md",
    ".claude/commands/plan.md",
    ".claude/commands/tasks.md",
    ".claude/commands/analyze.md",
    ".claude/commands/implement.md",
    ".claude/commands/constitution.md",
]

[tool.github-spec-kit.install.opencode]
command = "uvx --from git+https://github.com/github/spec-kit.git specify init --here --ai claude"
stdin = "y\n"
env = ["PYTHONUNBUFFERED=1"]
detect-path = ".specify"
uninstall-paths = [
    ".specify",
    ".opencode/command/speckit*",
    ".opencode/command/specify.md",
    ".opencode/command/clarify.md",
    ".opencode/command/plan.md",
    ".opencode/command/tasks.md",
    ".opencode/command/analyze.md",
    ".opencode/command/implement.md",
    ".opencode/command/constitution.md",
]

[tool.openspec]
name = "OpenSpec"
description = "Initialize OpenSpec with AI support"

[tool.openspec.install.claude]
command = "bunx @fission-ai/openspec@latest init --tools claude"
env = ["NODE_ENV=production"]
detect-path = "openspec"
uninstall-paths = [
    "openspec",
    ".claude/commands/openspec*",
    "AGENTS.md",
    "CLAUDE.md",
]

[tool.openspec.install.opencode]
command = "bunx @fission-ai/openspec@latest init --tools opencode"
env = ["NODE_ENV=production"]
detect-path = "openspec"
uninstall-paths = ["openspec", ".opencode/command/openspec*", "AGENTS.md"]

[tool.full-permission]
name = "Full Permission"
description = "Enable all tool permissions"

[tool.full-permission.install.claude]
installer = "merge"
source-file = "claude/permissions/full-permission.json"
target-file = ".claude/settings.local.json"
detect-path = ".claude/settings.local.json"

[tool.full-permission.install.opencode]
installer = "merge"
source-file = "opencode/permission/full-permission.json"
target-file = "opencode.json"
detect-path = "opencode.json"
