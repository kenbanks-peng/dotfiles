# proposed.toml - Single entry point for all cctui configuration
# This consolidates tools.toml and mcp.toml into one traceable structure

[cctui]
version = "1.0"
config-dir = "~/.config/agentic"

# Platform configuration
[cctui.platform]
id = "claude"
name = "Claude Code"
ascii = '''

 ▐▛███▜▌   Claude Code
▝▜█████▛▘
  ▘▘ ▝▝'''
config-file = ".mcp.json"
permissions-file = ".claude/settings.local.json"
agents-dir = ".claude/agent"
format = "claude"
accent-color = "#5588FF"
signature = ".claude"
enabled = true

# ============================================================================
# MCP Service - with embedded server definitions
# ============================================================================
[cctui.service.mcp]
type = "mcp"
name = "MCP"
enabled = true

# MCP servers embedded under this service
# markitdown - 82,000 github mcp downloads
[cctui.service.mcp.servers.markitdown]
type = "local"
command = ["uvx", "--python", "3.13", "--prerelease", "allow", "markitdown-mcp"]

# npmjs - 35,000 github mcp downloads
[cctui.service.mcp.servers.context7]
command = ["bunx", "@upstash/context7-mcp"]

# github - 24,000 github mcp downloads
[cctui.service.mcp.servers.github]
type = "remote"
url = "https://api.githubcopilot.com/mcp"
headers = { Authorization = "Bearer $GITHUB_PERSONAL_ACCESS_TOKEN" }

# workflow
[cctui.service.mcp.servers.linear]
type = "local"
command = ["bunx", "mcp-remote", "https://mcp.linear.app/sse"]

[cctui.service.mcp.servers.n8n-mcp]
command = ["bunx", "n8n-mcp"]
env = { MCP_MODE = "stdio", LOG_LEVEL = "error", DISABLE_CONSOLE_OUTPUT = "true" }

[cctui.service.mcp.servers.Obsidian]
command = ["bunx", "mcp-obsidian", "$OBSIDIAN_VAULT"]

# Commented out servers from original mcp.toml
# [cctui.service.mcp.servers.playwright]
# command = ["bunx", "@playwright/mcp@latest"]
# env = { OPENAI_API_KEY = "$OPENAI_API_KEY" }

# [cctui.service.mcp.servers.lint]
# type = "local"
# command = ["$BINPATH/mcp_biome"]

# [cctui.service.mcp.servers.chrome-devtools]
# type = "local"
# command = ["bunx", "chrome-devtools-mcp@latest"]

# [cctui.service.mcp.servers.mermaid]
# type = "local"
# command = ["bunx", "mcp-mermaid"]

# [cctui.service.mcp.servers.serena]
# type = "local"
# command = [
#     "uvx",
#     "--from",
#     "git+https://github.com/oraios/serena",
#     "serena",
#     "start-mcp-server",
#     "--context",
#     "ide-assistant",
#     "--project",
#     "$PWD",
# ]

# [cctui.service.mcp.servers.seagoat]
# type = "local"
# command = ["$BINPATH/mcp_seagoat"]

# [cctui.service.mcp.servers.mcp-server-chart]
# command = ["bunx", "@antv/mcp-server-chart"]

# Redundant in claude and opencode
# [cctui.service.mcp.servers.sequential-thinking]
# command = ["bunx", "@modelcontextprotocol/server-sequential-thinking"]

# [cctui.service.mcp.servers.memory]
# command = ["bunx", "@modelcontextprotocol/server-memory"]

# [cctui.service.mcp.servers.filesystem]
# command = ["bunx", "@modelcontextprotocol/server-filesystem"]

# ============================================================================
# Tools Service - with embedded tool definitions
# ============================================================================
[cctui.service.tools]
type = "tools"
name = "Tools"
enabled = true

# Tools embedded under this service
[cctui.service.tools.items.github-spec-kit]
name = "GitHub Spec-kit"
description = "Initialize spec-kit with AI support"
command = "uvx --from git+https://github.com/github/spec-kit.git specify init --here --ai claude"
stdin = "y\n"
env = ["PYTHONUNBUFFERED=1"]
detect-path = ".specify"
uninstall-paths = [
    ".specify",
    ".claude/commands/speckit*",
    ".claude/commands/specify.md",
    ".claude/commands/clarify.md",
    ".claude/commands/plan.md",
    ".claude/commands/tasks.md",
    ".claude/commands/analyze.md",
    ".claude/commands/implement.md",
    ".claude/commands/constitution.md",
]

[cctui.service.tools.items.openspec]
name = "OpenSpec"
description = "Initialize OpenSpec with AI support"
command = "bunx @fission-ai/openspec@latest init --tools claude"
env = ["NODE_ENV=production"]
detect-path = "openspec"
uninstall-paths = [
    "openspec",
    ".claude/commands/openspec*",
    "AGENTS.md",
    "CLAUDE.md",
]

[cctui.service.tools.items.full-permission]
name = "Full Permission"
description = "Enable all tool permissions"
installer = "merge"
source-file = "claude/permissions/full-permission.json"
target-file = ".claude/settings.local.json"
detect-path = ".claude/settings.local.json"

# ============================================================================
# Agents Service - with embedded agent definitions
# ============================================================================
[cctui.service.agents]
type = "agents"
name = "Agents"
enabled = true

# Future: agent definitions would go here under cctui.service.agents.items.*
