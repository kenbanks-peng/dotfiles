# cctui.toml - Single entry point for all cctui configuration
# This consolidates tools.toml and mcp.toml into one traceable structure

[cctui]
version = "1.0"

# Platform configuration
[cctui.platform]
id = "claude"
name = "Claude Code"
ascii = '''

 ▐▛███▜▌   Claude Code
▝▜█████▛▘
  ▘▘ ▝▝'''
config-file = ".mcp.json"
permissions-file = ".claude/settings.local.json"
agents-dir = ".claude/agent"
format = "claude"
accent-color = "#5588FF"
signature = ".claude"
enabled = true

# ============================================================================
# Service Definitions
# ============================================================================

[cctui.service.mcp]
type = "mcp"
name = "MCP"
enabled = true
order = 1

[cctui.service.tools]
type = "tools"
name = "Tools"
enabled = true
order = 2

[cctui.service.agents]
type = "agents"
name = "Agents"
enabled = true
order = 3

# ============================================================================
#                              MCP Servers
# ============================================================================

# see github mcp registry: https://github.com/mcp
[mcp]

# markitdown - 82,000 github mcp downloads
[mcp.markitdown]
type = "local"
command = "uvx"
args = ["--python", "3.13", "--prerelease", "allow", "markitdown-mcp"]

# npmjs - 35,000 github mcp downloads
[mcp.context7]
command = "bunx"
args = ["@upstash/context7-mcp"]

# github - 24,000 github mcp downloads
[mcp.github]
type = "remote"
url = "https://api.githubcopilot.com/mcp"
headers = { Authorization = "Bearer $GITHUB_PERSONAL_ACCESS_TOKEN" }

# workflow ??
[mcp.linear]
type = "local"
command = "bunx"
args = ["mcp-remote", "https://mcp.linear.app/sse"]

# ??
[mcp.n8n-mcp]
command = "bunx"
args = ["n8n-mcp"]
env = { MCP_MODE = "stdio", LOG_LEVEL = "error", DISABLE_CONSOLE_OUTPUT = "true" }

# ?? ast-grep

# ok
[mcp.Obsidian]
command = "bunx"
args = ["mcp-obsidian", "$OBSIDIAN_VAULT"]

# # playwright - 22,000 github mcp downloads
# [mcp.playwright]
# command = ["bunx", "@playwright/mcp@latest"]
# env = { OPENAI_API_KEY = "$OPENAI_API_KEY" }

# # needed ?? opencode uses lsps
# [mcp.lint]
# type = "local"
# command = ["$BINPATH/mcp_biome"]

# # web dev ??
# [mcp.chrome-devtools]
# type = "local"
# command = ["bunx", "chrome-devtools-mcp@latest"]

# # ok
# [mcp.mermaid]
# type = "local"
# command = ["bunx", "mcp-mermaid"]

# # for big projects??
# [mcp.serena]
# type = "local"
# command = [
#     "uvx",
#     "--from",
#     "git+https://github.com/oraios/serena",
#     "serena",
#     "start-mcp-server",
#     "--context",
#     "ide-assistant",
#     "--project",
#     "$PWD",
# ]

# # ??
# [mcp.seagoat]
# type = "local"
# command = ["$BINPATH/mcp_seagoat"]

# # ok
# [mcp.mcp-server-chart]
# command = ["bunx", "@antv/mcp-server-chart"]


# redundant in claude and opencode

# [mcp.sequential-thinking]
# command = ["bunx", "@modelcontextprotocol/server-sequential-thinking"]

# [mcp.memory]
# command = ["bunx", "@modelcontextprotocol/server-memory"]

# [mcp.filesystem]
# command = ["bunx", "@modelcontextprotocol/server-filesystem"]


# ============================================================================
#                                   Tools
# ============================================================================

[tool.github-spec-kit]
name = "GitHub Spec-kit"
description = "Initialize spec-kit with AI support"
command = "uvx --from git+https://github.com/github/spec-kit.git specify init --here --ai claude"
stdin = "y\n"
env = ["PYTHONUNBUFFERED=1"]
detect-path = ".specify"
uninstall-paths = [
  ".specify",
  ".claude/commands/speckit*",
  ".claude/commands/specify.md",
  ".claude/commands/clarify.md",
  ".claude/commands/plan.md",
  ".claude/commands/tasks.md",
  ".claude/commands/analyze.md",
  ".claude/commands/implement.md",
  ".claude/commands/constitution.md",
]

[tool.openspec]
name = "OpenSpec"
description = "Initialize OpenSpec with AI support"
command = "bunx @fission-ai/openspec@latest init --tools claude"
env = ["NODE_ENV=production"]
detect-path = "openspec"
uninstall-paths = [
  "openspec",
  ".claude/commands/openspec*",
  "AGENTS.md",
  "CLAUDE.md",
]

[tool.permissions]
name = "Permissions"
description = "Enable all tool permissions"
installer = "merge"
source-file = "claude/permissions/permissions.json"
target-file = ".claude/settings.local.json"
detect-path = ".claude/settings.local.json"

# ============================================================================
# Agents
# ============================================================================

# Future: agent definitions would go here as [agent.name]
