"use strict";var Ht=Object.create;var ue=Object.defineProperty;var Gt=Object.getOwnPropertyDescriptor;var Kt=Object.getOwnPropertyNames;var Vt=Object.getPrototypeOf,Yt=Object.prototype.hasOwnProperty;var Jt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Qt=(e,r)=>{for(var t in r)ue(e,t,{get:r[t],enumerable:!0})},Je=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of Kt(r))!Yt.call(e,i)&&i!==t&&ue(e,i,{get:()=>r[i],enumerable:!(n=Gt(r,i))||n.enumerable});return e};var Ae=(e,r,t)=>(t=e!=null?Ht(Vt(e)):{},Je(r||!e||!e.__esModule?ue(t,"default",{value:e,enumerable:!0}):t,e)),Zt=e=>Je(ue({},"__esModule",{value:!0}),e);var dt=Jt((an,ft)=>{"use strict";function Qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qe(Object(t),!0).forEach(function(n){ke(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ie(e)}function I(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ze(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,r,t){return r&&Ze(e.prototype,r),t&&Ze(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function B(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),r&&$e(e,r)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},he(e)}function $e(e,r){return $e=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$e(e,r)}function Xt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function W(e){var r=Xt();return function(){var n=he(e),i;if(r){var o=he(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return er(this,i)}}function K(e){return tr(e)||rr(e)||nr(e)||ir()}function tr(e){if(Array.isArray(e))return Ee(e)}function rr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nr(e,r){if(e){if(typeof e=="string")return Ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(e,r)}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ir(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(e){return Array.isArray?Array.isArray(e):ot(e)==="[object Array]"}var or=1/0;function ar(e){if(typeof e=="string")return e;var r=e+"";return r=="0"&&1/e==-or?"-0":r}function sr(e){return e==null?"":ar(e)}function F(e){return typeof e=="string"}function nt(e){return typeof e=="number"}function cr(e){return e===!0||e===!1||ur(e)&&ot(e)=="[object Boolean]"}function it(e){return Ie(e)==="object"}function ur(e){return it(e)&&e!==null}function $(e){return e!=null}function Le(e){return!e.trim().length}function ot(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var lr="Incorrect 'index' type",hr=function(r){return"Invalid value for key ".concat(r)},fr=function(r){return"Pattern length exceeds max of ".concat(r,".")},dr=function(r){return"Missing ".concat(r," property in key")},gr=function(r){return"Property 'weight' in key '".concat(r,"' must be a positive integer")},Xe=Object.prototype.hasOwnProperty,mr=function(){function e(r){var t=this;I(this,e),this._keys=[],this._keyMap={};var n=0;r.forEach(function(i){var o=at(i);n+=o.weight,t._keys.push(o),t._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(function(i){i.weight/=n})}return k(e,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function at(e){var r=null,t=null,n=null,i=1,o=null;if(F(e)||U(e))n=e,r=qe(e),t=we(e);else{if(!Xe.call(e,"name"))throw new Error(dr("name"));var a=e.name;if(n=a,Xe.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(gr(a));r=qe(a),t=we(a),o=e.getFn}return{path:r,id:t,weight:i,src:n,getFn:o}}function qe(e){return U(e)?e:e.split(".")}function we(e){return U(e)?e.join("."):e}function pr(e,r){var t=[],n=!1,i=function o(a,s,c){if($(a))if(!s[c])t.push(a);else{var h=s[c],u=a[h];if(!$(u))return;if(c===s.length-1&&(F(u)||nt(u)||cr(u)))t.push(sr(u));else if(U(u)){n=!0;for(var l=0,f=u.length;l<f;l+=1)o(u[l],s,c+1)}else s.length&&o(u,s,c+1)}};return i(e,F(r)?r.split("."):r,0),n?t:t[0]}var vr={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},yr={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(r,t){return r.score===t.score?r.idx<t.idx?-1:1:r.score<t.score?-1:1}},xr={location:0,threshold:.6,distance:100},Sr={useExtendedSearch:!1,getFn:pr,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},g=Q(Q(Q(Q({},yr),vr),xr),Sr),_r=/[^ ]+/g;function Cr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t=new Map,n=Math.pow(10,r);return{get:function(o){var a=o.match(_r).length;if(t.has(a))return t.get(a);var s=1/Math.pow(a,.5*e),c=parseFloat(Math.round(s*n)/n);return t.set(a,c),c},clear:function(){t.clear()}}}var Ne=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.getFn,n=t===void 0?g.getFn:t,i=r.fieldNormWeight,o=i===void 0?g.fieldNormWeight:i;I(this,e),this.norm=Cr(o,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}return k(e,[{key:"setSources",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=n,this._keysMap={},n.forEach(function(i,o){t._keysMap[i.id]=o})}},{key:"create",value:function(){var t=this;this.isCreated||!this.docs.length||(this.isCreated=!0,F(this.docs[0])?this.docs.forEach(function(n,i){t._addString(n,i)}):this.docs.forEach(function(n,i){t._addObject(n,i)}),this.norm.clear())}},{key:"add",value:function(t){var n=this.size();F(t)?this._addString(t,n):this._addObject(t,n)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var n=t,i=this.size();n<i;n+=1)this.records[n].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,n){return t[this._keysMap[n]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,n){if(!(!$(t)||Le(t))){var i={v:t,i:n,n:this.norm.get(t)};this.records.push(i)}}},{key:"_addObject",value:function(t,n){var i=this,o={i:n,$:{}};this.keys.forEach(function(a,s){var c=a.getFn?a.getFn(t):i.getFn(t,a.path);if($(c)){if(U(c))(function(){for(var u=[],l=[{nestedArrIndex:-1,value:c}];l.length;){var f=l.pop(),d=f.nestedArrIndex,m=f.value;if($(m))if(F(m)&&!Le(m)){var v={v:m,i:d,n:i.norm.get(m)};u.push(v)}else U(m)&&m.forEach(function(y,x){l.push({nestedArrIndex:x,value:y})})}o.$[s]=u})();else if(F(c)&&!Le(c)){var h={v:c,n:i.norm.get(c)};o.$[s]=h}}}),this.records.push(o)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function st(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.getFn,i=n===void 0?g.getFn:n,o=t.fieldNormWeight,a=o===void 0?g.fieldNormWeight:o,s=new Ne({getFn:i,fieldNormWeight:a});return s.setKeys(e.map(at)),s.setSources(r),s.create(),s}function Mr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.getFn,n=t===void 0?g.getFn:t,i=r.fieldNormWeight,o=i===void 0?g.fieldNormWeight:i,a=e.keys,s=e.records,c=new Ne({getFn:n,fieldNormWeight:o});return c.setKeys(a),c.setIndexRecords(s),c}function le(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.errors,n=t===void 0?0:t,i=r.currentLocation,o=i===void 0?0:i,a=r.expectedLocation,s=a===void 0?0:a,c=r.distance,h=c===void 0?g.distance:c,u=r.ignoreLocation,l=u===void 0?g.ignoreLocation:u,f=n/e.length;if(l)return f;var d=Math.abs(s-o);return h?f+d/h:d?1:f}function br(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.minMatchCharLength,t=[],n=-1,i=-1,o=0,a=e.length;o<a;o+=1){var s=e[o];s&&n===-1?n=o:!s&&n!==-1&&(i=o-1,i-n+1>=r&&t.push([n,i]),n=-1)}return e[o-1]&&o-n>=r&&t.push([n,o-1]),t}var G=32;function Ar(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n.location,o=i===void 0?g.location:i,a=n.distance,s=a===void 0?g.distance:a,c=n.threshold,h=c===void 0?g.threshold:c,u=n.findAllMatches,l=u===void 0?g.findAllMatches:u,f=n.minMatchCharLength,d=f===void 0?g.minMatchCharLength:f,m=n.includeMatches,v=m===void 0?g.includeMatches:m,y=n.ignoreLocation,x=y===void 0?g.ignoreLocation:y;if(r.length>G)throw new Error(fr(G));for(var p=r.length,_=e.length,S=Math.max(0,Math.min(o,_)),C=h,A=S,w=d>1||v,z=w?Array(_):[],R;(R=e.indexOf(r,A))>-1;){var Ge=le(r,{currentLocation:R,expectedLocation:S,distance:s,ignoreLocation:x});if(C=Math.min(Ge,C),A=R+p,w)for(var V=0;V<p;)z[R+V]=1,V+=1}A=-1;for(var Y=[],oe=1,ae=p+_,Wt=1<<p-1,H=0;H<p;H+=1){for(var se=0,D=ae;se<D;){var jt=le(r,{errors:H,currentLocation:S+D,expectedLocation:S,distance:s,ignoreLocation:x});jt<=C?se=D:ae=D,D=Math.floor((ae-se)/2+se)}ae=D;var Ke=Math.max(1,S-D+1),Me=l?_:Math.min(S+D,_)+p,J=Array(Me+2);J[Me+1]=(1<<H)-1;for(var T=Me;T>=Ke;T-=1){var ce=T-1,Ve=t[e.charAt(ce)];if(w&&(z[ce]=+!!Ve),J[T]=(J[T+1]<<1|1)&Ve,H&&(J[T]|=(Y[T+1]|Y[T])<<1|1|Y[T+1]),J[T]&Wt&&(oe=le(r,{errors:H,currentLocation:ce,expectedLocation:S,distance:s,ignoreLocation:x}),oe<=C)){if(C=oe,A=ce,A<=S)break;Ke=Math.max(1,2*S-A)}}var zt=le(r,{errors:H+1,currentLocation:S,expectedLocation:S,distance:s,ignoreLocation:x});if(zt>C)break;Y=J}var be={isMatch:A>=0,score:Math.max(.001,oe)};if(w){var Ye=br(z,d);Ye.length?v&&(be.indices=Ye):be.isMatch=!1}return be}function Lr(e){for(var r={},t=0,n=e.length;t<n;t+=1){var i=e.charAt(t);r[i]=(r[i]||0)|1<<n-t-1}return r}var ct=function(){function e(r){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.location,o=i===void 0?g.location:i,a=n.threshold,s=a===void 0?g.threshold:a,c=n.distance,h=c===void 0?g.distance:c,u=n.includeMatches,l=u===void 0?g.includeMatches:u,f=n.findAllMatches,d=f===void 0?g.findAllMatches:f,m=n.minMatchCharLength,v=m===void 0?g.minMatchCharLength:m,y=n.isCaseSensitive,x=y===void 0?g.isCaseSensitive:y,p=n.ignoreLocation,_=p===void 0?g.ignoreLocation:p;if(I(this,e),this.options={location:o,threshold:s,distance:h,includeMatches:l,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:x,ignoreLocation:_},this.pattern=x?r:r.toLowerCase(),this.chunks=[],!!this.pattern.length){var S=function(V,Y){t.chunks.push({pattern:V,alphabet:Lr(V),startIndex:Y})},C=this.pattern.length;if(C>G){for(var A=0,w=C%G,z=C-w;A<z;)S(this.pattern.substr(A,G),A),A+=G;if(w){var R=C-G;S(this.pattern.substr(R),R)}}else S(this.pattern,0)}}return k(e,[{key:"searchIn",value:function(t){var n=this.options,i=n.isCaseSensitive,o=n.includeMatches;if(i||(t=t.toLowerCase()),this.pattern===t){var a={isMatch:!0,score:0};return o&&(a.indices=[[0,t.length-1]]),a}var s=this.options,c=s.location,h=s.distance,u=s.threshold,l=s.findAllMatches,f=s.minMatchCharLength,d=s.ignoreLocation,m=[],v=0,y=!1;this.chunks.forEach(function(p){var _=p.pattern,S=p.alphabet,C=p.startIndex,A=Ar(t,_,S,{location:c+C,distance:h,threshold:u,findAllMatches:l,minMatchCharLength:f,includeMatches:o,ignoreLocation:d}),w=A.isMatch,z=A.score,R=A.indices;w&&(y=!0),v+=z,w&&R&&(m=[].concat(K(m),K(R)))});var x={isMatch:y,score:y?v/this.chunks.length:1};return y&&o&&(x.indices=m),x}}]),e}(),j=function(){function e(r){I(this,e),this.pattern=r}return k(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return et(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return et(t,this.singleRegex)}}]),e}();function et(e,r){var t=e.match(r);return t?t[1]:null}var Ir=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=i===this.pattern;return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),t}(j),kr=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=i.indexOf(this.pattern),a=o===-1;return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),t}(j),$r=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=i.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),t}(j),Er=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=!i.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),t}(j),wr=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=i.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),t}(j),Rr=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){var o=!i.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),t}(j),ut=function(e){B(t,e);var r=W(t);function t(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.location,s=a===void 0?g.location:a,c=o.threshold,h=c===void 0?g.threshold:c,u=o.distance,l=u===void 0?g.distance:u,f=o.includeMatches,d=f===void 0?g.includeMatches:f,m=o.findAllMatches,v=m===void 0?g.findAllMatches:m,y=o.minMatchCharLength,x=y===void 0?g.minMatchCharLength:y,p=o.isCaseSensitive,_=p===void 0?g.isCaseSensitive:p,S=o.ignoreLocation,C=S===void 0?g.ignoreLocation:S;return I(this,t),i=r.call(this,n),i._bitapSearch=new ct(n,{location:s,threshold:h,distance:l,includeMatches:d,findAllMatches:v,minMatchCharLength:x,isCaseSensitive:_,ignoreLocation:C}),i}return k(t,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),t}(j),lt=function(e){B(t,e);var r=W(t);function t(n){return I(this,t),r.call(this,n)}return k(t,[{key:"search",value:function(i){for(var o=0,a,s=[],c=this.pattern.length;(a=i.indexOf(this.pattern,o))>-1;)o=a+c,s.push([a,o-1]);var h=!!s.length;return{isMatch:h,score:h?0:1,indices:s}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),t}(j),Re=[Ir,lt,$r,Er,Rr,wr,kr,ut],tt=Re.length,Tr=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Fr="|";function Or(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.split(Fr).map(function(t){for(var n=t.trim().split(Tr).filter(function(m){return m&&!!m.trim()}),i=[],o=0,a=n.length;o<a;o+=1){for(var s=n[o],c=!1,h=-1;!c&&++h<tt;){var u=Re[h],l=u.isMultiMatch(s);l&&(i.push(new u(l,r)),c=!0)}if(!c)for(h=-1;++h<tt;){var f=Re[h],d=f.isSingleMatch(s);if(d){i.push(new f(d,r));break}}}return i})}var Nr=new Set([ut.type,lt.type]),Pr=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.isCaseSensitive,i=n===void 0?g.isCaseSensitive:n,o=t.includeMatches,a=o===void 0?g.includeMatches:o,s=t.minMatchCharLength,c=s===void 0?g.minMatchCharLength:s,h=t.ignoreLocation,u=h===void 0?g.ignoreLocation:h,l=t.findAllMatches,f=l===void 0?g.findAllMatches:l,d=t.location,m=d===void 0?g.location:d,v=t.threshold,y=v===void 0?g.threshold:v,x=t.distance,p=x===void 0?g.distance:x;I(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:a,minMatchCharLength:c,findAllMatches:f,ignoreLocation:u,location:m,threshold:y,distance:p},this.pattern=i?r:r.toLowerCase(),this.query=Or(this.pattern,this.options)}return k(e,[{key:"searchIn",value:function(t){var n=this.query;if(!n)return{isMatch:!1,score:1};var i=this.options,o=i.includeMatches,a=i.isCaseSensitive;t=a?t:t.toLowerCase();for(var s=0,c=[],h=0,u=0,l=n.length;u<l;u+=1){var f=n[u];c.length=0,s=0;for(var d=0,m=f.length;d<m;d+=1){var v=f[d],y=v.search(t),x=y.isMatch,p=y.indices,_=y.score;if(x){if(s+=1,h+=_,o){var S=v.constructor.type;Nr.has(S)?c=[].concat(K(c),K(p)):c.push(p)}}else{h=0,s=0,c.length=0;break}}if(s){var C={isMatch:!0,score:h/s};return o&&(C.indices=c),C}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,n){return n.useExtendedSearch}}]),e}(),fe=[];function Ur(){fe.push.apply(fe,arguments)}function Te(e,r){for(var t=0,n=fe.length;t<n;t+=1){var i=fe[t];if(i.condition(e,r))return new i(e,r)}return new ct(e,r)}var de={AND:"$and",OR:"$or"},Fe={PATH:"$path",PATTERN:"$val"},Oe=function(r){return!!(r[de.AND]||r[de.OR])},Dr=function(r){return!!r[Fe.PATH]},Br=function(r){return!U(r)&&it(r)&&!Oe(r)},rt=function(r){return ke({},de.AND,Object.keys(r).map(function(t){return ke({},t,r[t])}))};function ht(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.auto,i=n===void 0?!0:n,o=function a(s){var c=Object.keys(s),h=Dr(s);if(!h&&c.length>1&&!Oe(s))return a(rt(s));if(Br(s)){var u=h?s[Fe.PATH]:c[0],l=h?s[Fe.PATTERN]:s[u];if(!F(l))throw new Error(hr(u));var f={keyId:we(u),pattern:l};return i&&(f.searcher=Te(l,r)),f}var d={children:[],operator:c[0]};return c.forEach(function(m){var v=s[m];U(v)&&v.forEach(function(y){d.children.push(a(y))})}),d};return Oe(e)||(e=rt(e)),o(e)}function Wr(e,r){var t=r.ignoreFieldNorm,n=t===void 0?g.ignoreFieldNorm:t;e.forEach(function(i){var o=1;i.matches.forEach(function(a){var s=a.key,c=a.norm,h=a.score,u=s?s.weight:null;o*=Math.pow(h===0&&u?Number.EPSILON:h,(u||1)*(n?1:c))}),i.score=o})}function jr(e,r){var t=e.matches;r.matches=[],$(t)&&t.forEach(function(n){if(!(!$(n.indices)||!n.indices.length)){var i=n.indices,o=n.value,a={indices:i,value:o};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),r.matches.push(a)}})}function zr(e,r){r.score=e.score}function Hr(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.includeMatches,i=n===void 0?g.includeMatches:n,o=t.includeScore,a=o===void 0?g.includeScore:o,s=[];return i&&s.push(jr),a&&s.push(zr),e.map(function(c){var h=c.idx,u={item:r[h],refIndex:h};return s.length&&s.forEach(function(l){l(c,u)}),u})}var Z=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;I(this,e),this.options=Q(Q({},g),t),this.options.useExtendedSearch,this._keyStore=new mr(this.options.keys),this.setCollection(r,n)}return k(e,[{key:"setCollection",value:function(t,n){if(this._docs=t,n&&!(n instanceof Ne))throw new Error(lr);this._myIndex=n||st(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){$(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},n=[],i=0,o=this._docs.length;i<o;i+=1){var a=this._docs[i];t(a,i)&&(this.removeAt(i),i-=1,o-=1,n.push(a))}return n}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.limit,o=i===void 0?-1:i,a=this.options,s=a.includeMatches,c=a.includeScore,h=a.shouldSort,u=a.sortFn,l=a.ignoreFieldNorm,f=F(t)?F(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Wr(f,{ignoreFieldNorm:l}),h&&f.sort(u),nt(o)&&o>-1&&(f=f.slice(0,o)),Hr(f,this._docs,{includeMatches:s,includeScore:c})}},{key:"_searchStringList",value:function(t){var n=Te(t,this.options),i=this._myIndex.records,o=[];return i.forEach(function(a){var s=a.v,c=a.i,h=a.n;if($(s)){var u=n.searchIn(s),l=u.isMatch,f=u.score,d=u.indices;l&&o.push({item:s,idx:c,matches:[{score:f,value:s,norm:h,indices:d}]})}}),o}},{key:"_searchLogical",value:function(t){var n=this,i=ht(t,this.options),o=function h(u,l,f){if(!u.children){var d=u.keyId,m=u.searcher,v=n._findMatches({key:n._keyStore.get(d),value:n._myIndex.getValueForItemAtKeyId(l,d),searcher:m});return v&&v.length?[{idx:f,item:l,matches:v}]:[]}for(var y=[],x=0,p=u.children.length;x<p;x+=1){var _=u.children[x],S=h(_,l,f);if(S.length)y.push.apply(y,K(S));else if(u.operator===de.AND)return[]}return y},a=this._myIndex.records,s={},c=[];return a.forEach(function(h){var u=h.$,l=h.i;if($(u)){var f=o(i,u,l);f.length&&(s[l]||(s[l]={idx:l,item:u,matches:[]},c.push(s[l])),f.forEach(function(d){var m,v=d.matches;(m=s[l].matches).push.apply(m,K(v))}))}}),c}},{key:"_searchObjectList",value:function(t){var n=this,i=Te(t,this.options),o=this._myIndex,a=o.keys,s=o.records,c=[];return s.forEach(function(h){var u=h.$,l=h.i;if($(u)){var f=[];a.forEach(function(d,m){f.push.apply(f,K(n._findMatches({key:d,value:u[m],searcher:i})))}),f.length&&c.push({idx:l,item:u,matches:f})}}),c}},{key:"_findMatches",value:function(t){var n=t.key,i=t.value,o=t.searcher;if(!$(i))return[];var a=[];if(U(i))i.forEach(function(d){var m=d.v,v=d.i,y=d.n;if($(m)){var x=o.searchIn(m),p=x.isMatch,_=x.score,S=x.indices;p&&a.push({score:_,key:n,value:m,idx:v,norm:y,indices:S})}});else{var s=i.v,c=i.n,h=o.searchIn(s),u=h.isMatch,l=h.score,f=h.indices;u&&a.push({score:l,key:n,value:s,norm:c,indices:f})}return a}}]),e}();Z.version="6.6.2";Z.createIndex=st;Z.parseIndex=Mr;Z.config=g;Z.parseQuery=ht;Ur(Pr);var Gr=Z;ft.exports=Gr});var nn={};Qt(nn,{default:()=>Bt});module.exports=Zt(nn);var Se=require("react"),xe=require("@raycast/api");var pe=require("@raycast/api");var bt=Ae(require("fs")),L=require("react"),At=require("@raycast/api");var yt=Ae(require("fs")),xt=Ae(dt()),St=require("@raycast/api");var mt=require("@raycast/api"),ge=(0,mt.getPreferenceValues)(),Kr=100,gt=1e3,Pe=Number(ge.searchResultLimitStr)||Kr,Ue=Pe&&Pe<=gt?Pe:gt,De=String(ge.viewType)||"list",pt=()=>{switch(String(ge.gridItemSize)||"medium"){case"small":return 8;case"large":return 3;default:return 5}},vt=ge.dataSet==="full"&&De==="grid"?"full-dataset":"dataset";var O=JSON.parse(yt.default.readFileSync(`${St.environment.assetsPath}/${vt}.json`,"utf-8"));function Vr(e){if(!e||e.length===0)return null;let r=parseInt(e,10),t=parseInt(e,16);if(isNaN(r))if(isNaN(t)){if(e.startsWith("\\u")||e.startsWith("\\U")||e.startsWith("U+")||e.startsWith("u+")||e.startsWith("0x")){let i=parseInt(e.substring(2),16);return O.characters.find(a=>a.c===i)||null}}else{let i=O.characters.find(o=>o.c===t);if(i)return i}else{let i=O.characters.find(o=>o.c===r);if(i)return i}if(e.length===1){let i=e.charCodeAt(0),o=O.characters.find(a=>a.c===i);if(o)return o}let n=O.characters.find(i=>i.v===e);return n||null}function me(e,r){let t=r?O.blocks.find(l=>l.blockName===r):null,n=t?O.characters.filter(l=>t.startCode<=l.c&&t.endCode>=l.c||t.extra?.includes(l.c)):O.characters;if(!e)return{selectedBlock:t||null,blocks:O.blocks,characters:r!==null?n:n.slice(0,Ue)};let i=e?.trim().split(" "),o=i.map(l=>`'${l}`).join(" ")||"",c=new xt.default(n,{keys:["n","s","o"],useExtendedSearch:!0,includeScore:!0}).search(o,{limit:Ue}).map(l=>({...l.item,score:l.score}));if(i.length===1){let l=Vr(i[0]);if(l){let f=c.findIndex(d=>d.c===l.c);f>-1&&c.splice(f,1),c.unshift({...l,score:-1})}}let h=c.some(l=>l.score===-1),u=c.length>1&&h?c.filter(l=>l.score!==-1):c;return{selectedBlock:t||null,blocks:O.blocks,characters:u}}var N=require("react"),Be=require("@raycast/api"),Yr=(e,r)=>{let[t,n]=(0,N.useState)(r),[i,o]=(0,N.useState)(!1);(0,N.useEffect)(()=>{let s=!1;return(async()=>{let c=await Be.LocalStorage.getItem(e);typeof c=="string"?s||(n(JSON.parse(c)),o(!0)):s||o(!0)})(),()=>{s=!0}},[]);let a=(0,N.useCallback)(s=>{n(c=>{let h=typeof s=="function"?s(c):s;return Be.LocalStorage.setItem(e,JSON.stringify(h)),h})},[]);return[t,a,i]};function _t(e){let{key:r,comparator:t,limit:n=10}=e,[i,o,a]=Yr(r,[]),s=(0,N.useCallback)(u=>{o(l=>l.find(d=>typeof t=="function"?t(d,u):d[t]===u[t])?l:[u,...l].slice(0,n))},[t,n]),c=(0,N.useCallback)(u=>{o(l=>l.find(d=>typeof t=="function"?t(d,u):d[t]===u[t])?l.filter(d=>typeof t=="function"?!t(d,u):d[t]!==u[t]):l)},[t]),h=(0,N.useCallback)(()=>{o([])},[t,n]);return{recentlyUsedItems:i,addToRecentlyUsedItems:s,areRecentlyUsedItemsLoaded:a,clearRecentlyUsedItems:h,removeFromRecentlyUsedItems:c}}function Ct(e,r,t,n){let i=e.blocks.filter(o=>!e.selectedBlock||o.blockName===e.selectedBlock.blockName).map(o=>{let a=e.characters.filter(c=>o.startCode<=c.c&&o.endCode>=c.c||o.extra?.includes(c.c)).map(c=>o.extra?.includes(c.c)?{...c,isExtra:!0}:c),s=a.reduce((c,h)=>Math.min(c,h.score||1),1);return{sectionTitle:o.blockName,lowestScore:s,items:a}});return r.length&&!n&&i.unshift({sectionTitle:"Recently Used",lowestScore:0,items:t?r:r.filter(o=>e.characters.find(a=>a.c===o.c))}),i.sort((o,a)=>o.lowestScore-a.lowestScore),i}var kt=require("react/jsx-runtime"),Mt=JSON.parse(bt.default.readFileSync(`${At.environment.assetsPath}/html.json`,"utf-8")),Lt=(0,L.createContext)(null),E=()=>(0,L.useContext)(Lt),It=({children:e})=>{let[r,t]=(0,L.useState)(null),[n,i]=(0,L.useState)(me(null,r)),o=(0,L.useRef)("");function a(p){o.current=p,i(me(p,r))}function s(p){t(p);let _=o.current;i(me(_,p))}let{recentlyUsedItems:c,addToRecentlyUsedItems:h,areRecentlyUsedItemsLoaded:u,clearRecentlyUsedItems:l,removeFromRecentlyUsedItems:f}=_t({key:"recently-used-v2",comparator:"c"}),d=(0,L.useCallback)(p=>c.some(_=>_.c===p.c),[c]),m=(0,L.useCallback)(p=>{let _=Mt.html_entities.find(S=>S.code===p);return _?_.value:null},[Mt]),v=(0,L.useMemo)(()=>u?Ct(n,c,!o.current,r):[],[n,c,u,r]),y=!h||!v.length,x=(0,L.useMemo)(()=>n.blocks.map(p=>p.blockName).filter(p=>p!=="Recently Used").sort((p,_)=>p.localeCompare(_)),[v]);return(0,kt.jsx)(Lt.Provider,{value:{list:v,loading:y,addToRecentlyUsedItems:h,onSearchTextChange:a,clearRecentlyUsedItems:l,isRecentlyUsed:d,removeFromRecentlyUsedItems:f,availableSets:x,setDatasetFilterAnd:s,findHtmlEntity:m},children:e})};var te=require("react/jsx-runtime"),Jr=()=>{let{availableSets:e,setDatasetFilterAnd:r}=E();return(0,te.jsxs)(pe.List.Dropdown,{tooltip:"Select a character set",onChange:t=>r(t==="null"?null:t),children:[(0,te.jsx)(pe.List.Dropdown.Item,{title:"<All Characters>",value:"null"},"all"),e.map(t=>(0,te.jsx)(pe.List.Dropdown.Item,{title:t,value:t},t))]})},ve=Jr;var We=typeof Buffer=="function",yn=typeof TextDecoder=="function"?new TextDecoder:void 0,$t=typeof TextEncoder=="function"?new TextEncoder:void 0,Qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",re=Array.prototype.slice.call(Qr),xn=(e=>{let r={};return e.forEach((t,n)=>r[t]=n),r})(re);var P=String.fromCharCode.bind(String),Sn=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Zr=e=>e.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_");var Xr=e=>{let r,t,n,i,o="",a=e.length%3;for(let s=0;s<e.length;){if((t=e.charCodeAt(s++))>255||(n=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");r=t<<16|n<<8|i,o+=re[r>>18&63]+re[r>>12&63]+re[r>>6&63]+re[r&63]}return a?o.slice(0,a-3)+"===".substring(a):o},wt=typeof btoa=="function"?e=>btoa(e):We?e=>Buffer.from(e,"binary").toString("base64"):Xr,qr=We?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,i=e.length;n<i;n+=4096)t.push(P.apply(null,e.subarray(n,n+4096)));return wt(t.join(""))};var en=e=>{if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?P(192|r>>>6)+P(128|r&63):P(224|r>>>12&15)+P(128|r>>>6&63)+P(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return P(240|r>>>18&7)+P(128|r>>>12&63)+P(128|r>>>6&63)+P(128|r&63)}},tn=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,rn=e=>e.replace(tn,en),Et=We?e=>Buffer.from(e,"utf8").toString("base64"):$t?e=>qr($t.encode(e)):e=>wt(rn(e)),je=(e,r=!1)=>r?Zr(Et(e)):Et(e);var Ot=require("react"),q=require("@raycast/api");var Ft=require("react"),b=require("@raycast/api");var ne=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),X=e=>e.toString(16).padStart(4,"0").toUpperCase(),ze=(e,r=!1)=>{let t=e;e==="&"?t="&amp;":e==="<"?t="&lt;":e===">"&&(t="&gt;");let n=r?"#fff":"#000",i=200;return`
  <svg height="${i}" width="${i}">
    <rect fill="transparent" x="0" y="0" width="${i}" height="${i}"></rect>
    <text x="${i/2}" y="${i/1.3}" fill="${n}" text-anchor="middle" alignment-baseline="central" font-size="${i/2}" line-height="0" font-family="mono-space">${t}</text>
  </svg>
  `},Rt=(e,r)=>r.sectionTitle==="Ancient Symbols"?"?":e.v,Tt=(e,r)=>{let t=ne(e.n);return r.sectionTitle==="Ancient Symbols"?`${t} (see in Grid Mode)`:t};var M=require("react/jsx-runtime"),ye=({item:e})=>{let{findHtmlEntity:r}=E(),t=r(e.c),{addToRecentlyUsedItems:n,isRecentlyUsed:i,clearRecentlyUsedItems:o,removeFromRecentlyUsedItems:a}=E(),s=(0,Ft.useMemo)(()=>i(e),[i,e]);return(0,M.jsxs)(b.ActionPanel,{children:[(0,M.jsxs)(b.ActionPanel.Section,{title:"Unicode",children:[(0,M.jsx)(b.Action.Paste,{title:"Paste Character in Active App",content:e.v,onPaste:()=>n(e)}),(0,M.jsx)(b.Action.CopyToClipboard,{title:"Copy Character to Clipboard",content:e.v,onCopy:()=>n(e)})]}),(0,M.jsxs)(b.ActionPanel.Section,{title:"Misc",children:[(0,M.jsx)(b.Action.CopyToClipboard,{title:`Copy "${X(e.c)}" (HEX) to Clipboard`,content:X(e.c),onCopy:()=>n(e),shortcut:{modifiers:["cmd"],key:"h"}}),t?(0,M.jsx)(b.Action.CopyToClipboard,{title:`Copy "${t}" (HTML) to Clipboard`,content:t,onCopy:()=>n(e),shortcut:{modifiers:["cmd","shift"],key:"h"}}):null,(0,M.jsx)(b.Action.CopyToClipboard,{title:`Copy "&#${e.c};" (HTML) to Clipboard`,content:`&#${e.c};`,onCopy:()=>n(e),shortcut:{modifiers:["cmd","shift"],key:t!==null?"t":"h"}}),s?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b.Action,{title:"Remove from Recently Used",icon:b.Icon.Trash,onAction:()=>a(e)}),(0,M.jsx)(b.Action,{title:"Remove All from Recently Used",icon:b.Icon.Trash,onAction:()=>o()})]}):null]}),(0,M.jsx)(b.ActionPanel.Section,{title:"Browser",children:(0,M.jsx)(b.Action.OpenInBrowser,{title:"Open Character on Compart",url:`https://www.compart.com/en/unicode/U+${X(e.c)}`})})]})};var He=require("react/jsx-runtime"),Nt=(0,Ot.memo)(({item:e})=>{let{findHtmlEntity:r}=E(),t=r(e.c),[n,i]=[`data:image/svg+xml;base64,${je(ze(e.v))}`,`data:image/svg+xml;base64,${je(ze(e.v,!0))}`],o=[`Name: ${ne(e.n)}`,`Dec: ${e.c}`,`Hex: ${X(e.c)}`,t?`HTML Entity: ${t}`:"",e.a?.length?`Aliases: "${e.a.map(ne).join(", ")}"`:"",...e.isExtra?[" ","> Note: This character is actually in a different Character Set"]:[""]].filter(a=>a.length>0).join(`
`);return(0,He.jsx)(q.Grid.Item,{title:ne(e.n),accessory:{tooltip:o,icon:{source:e.isExtra?"exclamation-outline.svg":q.Icon.QuestionMarkCircle,tintColor:q.Color.PrimaryText}},content:{source:{light:n,dark:i}},actions:(0,He.jsx)(ye,{item:e})},e.n)});var ie=require("react/jsx-runtime"),Pt=(0,Se.memo)(()=>{let e=(0,Se.useMemo)(()=>pt(),[]),{list:r,onSearchTextChange:t,loading:n}=E();return(0,ie.jsx)(xe.Grid,{isLoading:n,onSearchTextChange:t,filtering:!1,searchBarAccessory:(0,ie.jsx)(ve,{}),columns:e,children:r.map(i=>(0,ie.jsx)(xe.Grid.Section,{title:i.sectionTitle,aspectRatio:"1",fit:xe.Grid.Fit.Fill,children:i.items.map(o=>{let a=[];return o.a?.length&&a.push({icon:"\u2328\uFE0F",text:`${o.a.join(", ")}`}),(0,ie.jsx)(Nt,{item:o},`${i.sectionTitle}-${o.c}-${o.n}`)})},`${i.sectionTitle}-${i.items.length}`))})});var Ut=require("react"),_e=require("@raycast/api");var ee=require("react/jsx-runtime"),Dt=(0,Ut.memo)(()=>{let{list:e,onSearchTextChange:r,loading:t}=E();return(0,ee.jsx)(_e.List,{isLoading:t,onSearchTextChange:r,filtering:!1,searchBarAccessory:(0,ee.jsx)(ve,{}),children:e.map(n=>(0,ee.jsx)(_e.List.Section,{title:n.sectionTitle,children:n.items.map(i=>{let o=[];return i.a?.length&&o.push({icon:"\u2328\uFE0F",text:`${i.a.join(", ")}`}),(0,ee.jsx)(_e.List.Item,{title:Rt(i,n),subtitle:Tt(i,n),accessories:o,actions:(0,ee.jsx)(ye,{item:i})},`${i.c}-${i.n}`)})},`${n.sectionTitle}-${n.items.length}`))})});var Ce=require("react/jsx-runtime");function Bt(){return(0,Ce.jsx)(It,{children:De==="list"?(0,Ce.jsx)(Dt,{}):(0,Ce.jsx)(Pt,{})})}
