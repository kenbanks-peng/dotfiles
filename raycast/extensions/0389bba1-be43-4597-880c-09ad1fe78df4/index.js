"use strict";var Bt=Object.create;var ue=Object.defineProperty;var Wt=Object.getOwnPropertyDescriptor;var jt=Object.getOwnPropertyNames;var zt=Object.getPrototypeOf,Gt=Object.prototype.hasOwnProperty;var Kt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Vt=(e,r)=>{for(var t in r)ue(e,t,{get:r[t],enumerable:!0})},He=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of jt(r))!Gt.call(e,i)&&i!==t&&ue(e,i,{get:()=>r[i],enumerable:!(n=Wt(r,i))||n.enumerable});return e};var Ye=(e,r,t)=>(t=e!=null?Bt(zt(e)):{},He(r||!e||!e.__esModule?ue(t,"default",{value:e,enumerable:!0}):t,e)),Ht=e=>He(ue({},"__esModule",{value:!0}),e);var ft=Kt((tn,ht)=>{"use strict";function Je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Je(Object(t),!0).forEach(function(n){Le(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ae(e){"@babel/helpers - typeof";return Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ae(e)}function b(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,r,t){return r&&Qe(e.prototype,r),t&&Qe(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Le(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function D(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),r&&Ie(e,r)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},he(e)}function Ie(e,r){return Ie=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ie(e,r)}function Yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jt(e)}function B(e){var r=Yt();return function(){var n=he(e),i;if(r){var o=he(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Qt(this,i)}}function V(e){return Zt(e)||Xt(e)||qt(e)||er()}function Zt(e){if(Array.isArray(e))return ke(e)}function Xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qt(e,r){if(e){if(typeof e=="string")return ke(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(e,r)}}function ke(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function er(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(e){return Array.isArray?Array.isArray(e):it(e)==="[object Array]"}var tr=1/0;function rr(e){if(typeof e=="string")return e;var r=e+"";return r=="0"&&1/e==-tr?"-0":r}function nr(e){return e==null?"":rr(e)}function T(e){return typeof e=="string"}function rt(e){return typeof e=="number"}function ir(e){return e===!0||e===!1||or(e)&&it(e)=="[object Boolean]"}function nt(e){return Ae(e)==="object"}function or(e){return nt(e)&&e!==null}function $(e){return e!=null}function be(e){return!e.trim().length}function it(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var ar="Incorrect 'index' type",sr=function(r){return"Invalid value for key ".concat(r)},cr=function(r){return"Pattern length exceeds max of ".concat(r,".")},ur=function(r){return"Missing ".concat(r," property in key")},lr=function(r){return"Property 'weight' in key '".concat(r,"' must be a positive integer")},Ze=Object.prototype.hasOwnProperty,hr=function(){function e(r){var t=this;b(this,e),this._keys=[],this._keyMap={};var n=0;r.forEach(function(i){var o=ot(i);n+=o.weight,t._keys.push(o),t._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(function(i){i.weight/=n})}return A(e,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function ot(e){var r=null,t=null,n=null,i=1,o=null;if(T(e)||P(e))n=e,r=Xe(e),t=$e(e);else{if(!Ze.call(e,"name"))throw new Error(ur("name"));var s=e.name;if(n=s,Ze.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(lr(s));r=Xe(s),t=$e(s),o=e.getFn}return{path:r,id:t,weight:i,src:n,getFn:o}}function Xe(e){return P(e)?e:e.split(".")}function $e(e){return P(e)?e.join("."):e}function fr(e,r){var t=[],n=!1,i=function o(s,a,c){if($(s))if(!a[c])t.push(s);else{var h=a[c],u=s[h];if(!$(u))return;if(c===a.length-1&&(T(u)||rt(u)||ir(u)))t.push(nr(u));else if(P(u)){n=!0;for(var l=0,f=u.length;l<f;l+=1)o(u[l],a,c+1)}else a.length&&o(u,a,c+1)}};return i(e,T(r)?r.split("."):r,0),n?t:t[0]}var dr={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},gr={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(r,t){return r.score===t.score?r.idx<t.idx?-1:1:r.score<t.score?-1:1}},mr={location:0,threshold:.6,distance:100},vr={useExtendedSearch:!1,getFn:fr,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},g=Q(Q(Q(Q({},gr),dr),mr),vr),pr=/[^ ]+/g;function yr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t=new Map,n=Math.pow(10,r);return{get:function(o){var s=o.match(pr).length;if(t.has(s))return t.get(s);var a=1/Math.pow(s,.5*e),c=parseFloat(Math.round(a*n)/n);return t.set(s,c),c},clear:function(){t.clear()}}}var Fe=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.getFn,n=t===void 0?g.getFn:t,i=r.fieldNormWeight,o=i===void 0?g.fieldNormWeight:i;b(this,e),this.norm=yr(o,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}return A(e,[{key:"setSources",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=n,this._keysMap={},n.forEach(function(i,o){t._keysMap[i.id]=o})}},{key:"create",value:function(){var t=this;this.isCreated||!this.docs.length||(this.isCreated=!0,T(this.docs[0])?this.docs.forEach(function(n,i){t._addString(n,i)}):this.docs.forEach(function(n,i){t._addObject(n,i)}),this.norm.clear())}},{key:"add",value:function(t){var n=this.size();T(t)?this._addString(t,n):this._addObject(t,n)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var n=t,i=this.size();n<i;n+=1)this.records[n].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,n){return t[this._keysMap[n]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,n){if(!(!$(t)||be(t))){var i={v:t,i:n,n:this.norm.get(t)};this.records.push(i)}}},{key:"_addObject",value:function(t,n){var i=this,o={i:n,$:{}};this.keys.forEach(function(s,a){var c=s.getFn?s.getFn(t):i.getFn(t,s.path);if($(c)){if(P(c))(function(){for(var u=[],l=[{nestedArrIndex:-1,value:c}];l.length;){var f=l.pop(),d=f.nestedArrIndex,m=f.value;if($(m))if(T(m)&&!be(m)){var x={v:m,i:d,n:i.norm.get(m)};u.push(x)}else P(m)&&m.forEach(function(p,v){l.push({nestedArrIndex:v,value:p})})}o.$[a]=u})();else if(T(c)&&!be(c)){var h={v:c,n:i.norm.get(c)};o.$[a]=h}}}),this.records.push(o)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function at(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.getFn,i=n===void 0?g.getFn:n,o=t.fieldNormWeight,s=o===void 0?g.fieldNormWeight:o,a=new Fe({getFn:i,fieldNormWeight:s});return a.setKeys(e.map(ot)),a.setSources(r),a.create(),a}function xr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.getFn,n=t===void 0?g.getFn:t,i=r.fieldNormWeight,o=i===void 0?g.fieldNormWeight:i,s=e.keys,a=e.records,c=new Fe({getFn:n,fieldNormWeight:o});return c.setKeys(s),c.setIndexRecords(a),c}function le(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.errors,n=t===void 0?0:t,i=r.currentLocation,o=i===void 0?0:i,s=r.expectedLocation,a=s===void 0?0:s,c=r.distance,h=c===void 0?g.distance:c,u=r.ignoreLocation,l=u===void 0?g.ignoreLocation:u,f=n/e.length;if(l)return f;var d=Math.abs(a-o);return h?f+d/h:d?1:f}function Sr(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g.minMatchCharLength,t=[],n=-1,i=-1,o=0,s=e.length;o<s;o+=1){var a=e[o];a&&n===-1?n=o:!a&&n!==-1&&(i=o-1,i-n+1>=r&&t.push([n,i]),n=-1)}return e[o-1]&&o-n>=r&&t.push([n,o-1]),t}var K=32;function _r(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=n.location,o=i===void 0?g.location:i,s=n.distance,a=s===void 0?g.distance:s,c=n.threshold,h=c===void 0?g.threshold:c,u=n.findAllMatches,l=u===void 0?g.findAllMatches:u,f=n.minMatchCharLength,d=f===void 0?g.minMatchCharLength:f,m=n.includeMatches,x=m===void 0?g.includeMatches:m,p=n.ignoreLocation,v=p===void 0?g.ignoreLocation:p;if(r.length>K)throw new Error(cr(K));for(var y=r.length,C=e.length,S=Math.max(0,Math.min(o,C)),_=h,M=S,E=d>1||x,z=E?Array(C):[],R;(R=e.indexOf(r,M))>-1;){var ze=le(r,{currentLocation:R,expectedLocation:S,distance:a,ignoreLocation:v});if(_=Math.min(ze,_),M=R+y,E)for(var H=0;H<y;)z[R+H]=1,H+=1}M=-1;for(var Y=[],oe=1,ae=y+C,Pt=1<<y-1,G=0;G<y;G+=1){for(var se=0,U=ae;se<U;){var Ut=le(r,{errors:G,currentLocation:S+U,expectedLocation:S,distance:a,ignoreLocation:v});Ut<=_?se=U:ae=U,U=Math.floor((ae-se)/2+se)}ae=U;var Ge=Math.max(1,S-U+1),Ce=l?C:Math.min(S+U,C)+y,J=Array(Ce+2);J[Ce+1]=(1<<G)-1;for(var w=Ce;w>=Ge;w-=1){var ce=w-1,Ke=t[e.charAt(ce)];if(E&&(z[ce]=+!!Ke),J[w]=(J[w+1]<<1|1)&Ke,G&&(J[w]|=(Y[w+1]|Y[w])<<1|1|Y[w+1]),J[w]&Pt&&(oe=le(r,{errors:G,currentLocation:ce,expectedLocation:S,distance:a,ignoreLocation:v}),oe<=_)){if(_=oe,M=ce,M<=S)break;Ge=Math.max(1,2*S-M)}}var Dt=le(r,{errors:G+1,currentLocation:S,expectedLocation:S,distance:a,ignoreLocation:v});if(Dt>_)break;Y=J}var Me={isMatch:M>=0,score:Math.max(.001,oe)};if(E){var Ve=Sr(z,d);Ve.length?x&&(Me.indices=Ve):Me.isMatch=!1}return Me}function Cr(e){for(var r={},t=0,n=e.length;t<n;t+=1){var i=e.charAt(t);r[i]=(r[i]||0)|1<<n-t-1}return r}var st=function(){function e(r){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.location,o=i===void 0?g.location:i,s=n.threshold,a=s===void 0?g.threshold:s,c=n.distance,h=c===void 0?g.distance:c,u=n.includeMatches,l=u===void 0?g.includeMatches:u,f=n.findAllMatches,d=f===void 0?g.findAllMatches:f,m=n.minMatchCharLength,x=m===void 0?g.minMatchCharLength:m,p=n.isCaseSensitive,v=p===void 0?g.isCaseSensitive:p,y=n.ignoreLocation,C=y===void 0?g.ignoreLocation:y;if(b(this,e),this.options={location:o,threshold:a,distance:h,includeMatches:l,findAllMatches:d,minMatchCharLength:x,isCaseSensitive:v,ignoreLocation:C},this.pattern=v?r:r.toLowerCase(),this.chunks=[],!!this.pattern.length){var S=function(H,Y){t.chunks.push({pattern:H,alphabet:Cr(H),startIndex:Y})},_=this.pattern.length;if(_>K){for(var M=0,E=_%K,z=_-E;M<z;)S(this.pattern.substr(M,K),M),M+=K;if(E){var R=_-K;S(this.pattern.substr(R),R)}}else S(this.pattern,0)}}return A(e,[{key:"searchIn",value:function(t){var n=this.options,i=n.isCaseSensitive,o=n.includeMatches;if(i||(t=t.toLowerCase()),this.pattern===t){var s={isMatch:!0,score:0};return o&&(s.indices=[[0,t.length-1]]),s}var a=this.options,c=a.location,h=a.distance,u=a.threshold,l=a.findAllMatches,f=a.minMatchCharLength,d=a.ignoreLocation,m=[],x=0,p=!1;this.chunks.forEach(function(y){var C=y.pattern,S=y.alphabet,_=y.startIndex,M=_r(t,C,S,{location:c+_,distance:h,threshold:u,findAllMatches:l,minMatchCharLength:f,includeMatches:o,ignoreLocation:d}),E=M.isMatch,z=M.score,R=M.indices;E&&(p=!0),x+=z,E&&R&&(m=[].concat(V(m),V(R)))});var v={isMatch:p,score:p?x/this.chunks.length:1};return p&&o&&(v.indices=m),v}}]),e}(),W=function(){function e(r){b(this,e),this.pattern=r}return A(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(t){return qe(t,this.multiRegex)}},{key:"isSingleMatch",value:function(t){return qe(t,this.singleRegex)}}]),e}();function qe(e,r){var t=e.match(r);return t?t[1]:null}var Mr=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=i===this.pattern;return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),t}(W),br=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=i.indexOf(this.pattern),s=o===-1;return{isMatch:s,score:s?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),t}(W),Ar=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=i.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),t}(W),Lr=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=!i.startsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),t}(W),Ir=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=i.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),t}(W),kr=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){var o=!i.endsWith(this.pattern);return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),t}(W),ct=function(e){D(t,e);var r=B(t);function t(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.location,a=s===void 0?g.location:s,c=o.threshold,h=c===void 0?g.threshold:c,u=o.distance,l=u===void 0?g.distance:u,f=o.includeMatches,d=f===void 0?g.includeMatches:f,m=o.findAllMatches,x=m===void 0?g.findAllMatches:m,p=o.minMatchCharLength,v=p===void 0?g.minMatchCharLength:p,y=o.isCaseSensitive,C=y===void 0?g.isCaseSensitive:y,S=o.ignoreLocation,_=S===void 0?g.ignoreLocation:S;return b(this,t),i=r.call(this,n),i._bitapSearch=new st(n,{location:a,threshold:h,distance:l,includeMatches:d,findAllMatches:x,minMatchCharLength:v,isCaseSensitive:C,ignoreLocation:_}),i}return A(t,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),t}(W),ut=function(e){D(t,e);var r=B(t);function t(n){return b(this,t),r.call(this,n)}return A(t,[{key:"search",value:function(i){for(var o=0,s,a=[],c=this.pattern.length;(s=i.indexOf(this.pattern,o))>-1;)o=s+c,a.push([s,o-1]);var h=!!a.length;return{isMatch:h,score:h?0:1,indices:a}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),t}(W),Ee=[Mr,ut,Ar,Lr,kr,Ir,br,ct],et=Ee.length,$r=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Er="|";function Rr(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.split(Er).map(function(t){for(var n=t.trim().split($r).filter(function(m){return m&&!!m.trim()}),i=[],o=0,s=n.length;o<s;o+=1){for(var a=n[o],c=!1,h=-1;!c&&++h<et;){var u=Ee[h],l=u.isMultiMatch(a);l&&(i.push(new u(l,r)),c=!0)}if(!c)for(h=-1;++h<et;){var f=Ee[h],d=f.isSingleMatch(a);if(d){i.push(new f(d,r));break}}}return i})}var wr=new Set([ct.type,ut.type]),Tr=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.isCaseSensitive,i=n===void 0?g.isCaseSensitive:n,o=t.includeMatches,s=o===void 0?g.includeMatches:o,a=t.minMatchCharLength,c=a===void 0?g.minMatchCharLength:a,h=t.ignoreLocation,u=h===void 0?g.ignoreLocation:h,l=t.findAllMatches,f=l===void 0?g.findAllMatches:l,d=t.location,m=d===void 0?g.location:d,x=t.threshold,p=x===void 0?g.threshold:x,v=t.distance,y=v===void 0?g.distance:v;b(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:s,minMatchCharLength:c,findAllMatches:f,ignoreLocation:u,location:m,threshold:p,distance:y},this.pattern=i?r:r.toLowerCase(),this.query=Rr(this.pattern,this.options)}return A(e,[{key:"searchIn",value:function(t){var n=this.query;if(!n)return{isMatch:!1,score:1};var i=this.options,o=i.includeMatches,s=i.isCaseSensitive;t=s?t:t.toLowerCase();for(var a=0,c=[],h=0,u=0,l=n.length;u<l;u+=1){var f=n[u];c.length=0,a=0;for(var d=0,m=f.length;d<m;d+=1){var x=f[d],p=x.search(t),v=p.isMatch,y=p.indices,C=p.score;if(v){if(a+=1,h+=C,o){var S=x.constructor.type;wr.has(S)?c=[].concat(V(c),V(y)):c.push(y)}}else{h=0,a=0,c.length=0;break}}if(a){var _={isMatch:!0,score:h/a};return o&&(_.indices=c),_}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(t,n){return n.useExtendedSearch}}]),e}(),fe=[];function Fr(){fe.push.apply(fe,arguments)}function Re(e,r){for(var t=0,n=fe.length;t<n;t+=1){var i=fe[t];if(i.condition(e,r))return new i(e,r)}return new st(e,r)}var de={AND:"$and",OR:"$or"},we={PATH:"$path",PATTERN:"$val"},Te=function(r){return!!(r[de.AND]||r[de.OR])},Or=function(r){return!!r[we.PATH]},Nr=function(r){return!P(r)&&nt(r)&&!Te(r)},tt=function(r){return Le({},de.AND,Object.keys(r).map(function(t){return Le({},t,r[t])}))};function lt(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.auto,i=n===void 0?!0:n,o=function s(a){var c=Object.keys(a),h=Or(a);if(!h&&c.length>1&&!Te(a))return s(tt(a));if(Nr(a)){var u=h?a[we.PATH]:c[0],l=h?a[we.PATTERN]:a[u];if(!T(l))throw new Error(sr(u));var f={keyId:$e(u),pattern:l};return i&&(f.searcher=Re(l,r)),f}var d={children:[],operator:c[0]};return c.forEach(function(m){var x=a[m];P(x)&&x.forEach(function(p){d.children.push(s(p))})}),d};return Te(e)||(e=tt(e)),o(e)}function Pr(e,r){var t=r.ignoreFieldNorm,n=t===void 0?g.ignoreFieldNorm:t;e.forEach(function(i){var o=1;i.matches.forEach(function(s){var a=s.key,c=s.norm,h=s.score,u=a?a.weight:null;o*=Math.pow(h===0&&u?Number.EPSILON:h,(u||1)*(n?1:c))}),i.score=o})}function Ur(e,r){var t=e.matches;r.matches=[],$(t)&&t.forEach(function(n){if(!(!$(n.indices)||!n.indices.length)){var i=n.indices,o=n.value,s={indices:i,value:o};n.key&&(s.key=n.key.src),n.idx>-1&&(s.refIndex=n.idx),r.matches.push(s)}})}function Dr(e,r){r.score=e.score}function Br(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.includeMatches,i=n===void 0?g.includeMatches:n,o=t.includeScore,s=o===void 0?g.includeScore:o,a=[];return i&&a.push(Ur),s&&a.push(Dr),e.map(function(c){var h=c.idx,u={item:r[h],refIndex:h};return a.length&&a.forEach(function(l){l(c,u)}),u})}var Z=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;b(this,e),this.options=Q(Q({},g),t),this.options.useExtendedSearch,this._keyStore=new hr(this.options.keys),this.setCollection(r,n)}return A(e,[{key:"setCollection",value:function(t,n){if(this._docs=t,n&&!(n instanceof Fe))throw new Error(ar);this._myIndex=n||at(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){$(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},n=[],i=0,o=this._docs.length;i<o;i+=1){var s=this._docs[i];t(s,i)&&(this.removeAt(i),i-=1,o-=1,n.push(s))}return n}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.limit,o=i===void 0?-1:i,s=this.options,a=s.includeMatches,c=s.includeScore,h=s.shouldSort,u=s.sortFn,l=s.ignoreFieldNorm,f=T(t)?T(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Pr(f,{ignoreFieldNorm:l}),h&&f.sort(u),rt(o)&&o>-1&&(f=f.slice(0,o)),Br(f,this._docs,{includeMatches:a,includeScore:c})}},{key:"_searchStringList",value:function(t){var n=Re(t,this.options),i=this._myIndex.records,o=[];return i.forEach(function(s){var a=s.v,c=s.i,h=s.n;if($(a)){var u=n.searchIn(a),l=u.isMatch,f=u.score,d=u.indices;l&&o.push({item:a,idx:c,matches:[{score:f,value:a,norm:h,indices:d}]})}}),o}},{key:"_searchLogical",value:function(t){var n=this,i=lt(t,this.options),o=function h(u,l,f){if(!u.children){var d=u.keyId,m=u.searcher,x=n._findMatches({key:n._keyStore.get(d),value:n._myIndex.getValueForItemAtKeyId(l,d),searcher:m});return x&&x.length?[{idx:f,item:l,matches:x}]:[]}for(var p=[],v=0,y=u.children.length;v<y;v+=1){var C=u.children[v],S=h(C,l,f);if(S.length)p.push.apply(p,V(S));else if(u.operator===de.AND)return[]}return p},s=this._myIndex.records,a={},c=[];return s.forEach(function(h){var u=h.$,l=h.i;if($(u)){var f=o(i,u,l);f.length&&(a[l]||(a[l]={idx:l,item:u,matches:[]},c.push(a[l])),f.forEach(function(d){var m,x=d.matches;(m=a[l].matches).push.apply(m,V(x))}))}}),c}},{key:"_searchObjectList",value:function(t){var n=this,i=Re(t,this.options),o=this._myIndex,s=o.keys,a=o.records,c=[];return a.forEach(function(h){var u=h.$,l=h.i;if($(u)){var f=[];s.forEach(function(d,m){f.push.apply(f,V(n._findMatches({key:d,value:u[m],searcher:i})))}),f.length&&c.push({idx:l,item:u,matches:f})}}),c}},{key:"_findMatches",value:function(t){var n=t.key,i=t.value,o=t.searcher;if(!$(i))return[];var s=[];if(P(i))i.forEach(function(d){var m=d.v,x=d.i,p=d.n;if($(m)){var v=o.searchIn(m),y=v.isMatch,C=v.score,S=v.indices;y&&s.push({score:C,key:n,value:m,idx:x,norm:p,indices:S})}});else{var a=i.v,c=i.n,h=o.searchIn(a),u=h.isMatch,l=h.score,f=h.indices;u&&s.push({score:l,key:n,value:a,norm:c,indices:f})}return s}}]),e}();Z.version="6.6.2";Z.createIndex=at;Z.parseIndex=xr;Z.config=g;Z.parseQuery=lt;Fr(Tr);var Wr=Z;ht.exports=Wr});var qr={};Vt(qr,{default:()=>Nt});module.exports=Ht(qr);var xe=require("react"),ye=require("@raycast/api");var me=require("@raycast/api");var L=require("react");var pt=Ye(require("fs")),yt=Ye(ft()),xt=require("@raycast/api");var gt=require("@raycast/api"),Ne=(0,gt.getPreferenceValues)(),jr=100,dt=1e3,Oe=Number(Ne.searchResultLimitStr)||jr,Pe=Oe&&Oe<=dt?Oe:dt,mt=String(Ne.viewType)||"list",vt=()=>{switch(String(Ne.gridItemSize)||"medium"){case"small":return 8;case"large":return 3;default:return 5}};var F=JSON.parse(pt.default.readFileSync(`${xt.environment.assetsPath}/dataset.json`,"utf-8"));function zr(e){if(!e||e.length===0)return null;let r=parseInt(e,10),t=parseInt(e,16);if(isNaN(r))if(isNaN(t)){if(e.startsWith("\\u")||e.startsWith("\\U")||e.startsWith("U+")||e.startsWith("u+")||e.startsWith("0x")){let i=parseInt(e.substring(2),16);return F.characters.find(s=>s.code===i)||null}}else{let i=F.characters.find(o=>o.code===t);if(i)return i}else{let i=F.characters.find(o=>o.code===r);if(i)return i}if(e.length===1){let i=e.charCodeAt(0),o=F.characters.find(s=>s.code===i);if(o)return o}let n=F.characters.find(i=>i.value===e);return n||null}function ge(e,r){let t=r?F.blocks.find(l=>l.blockName===r):null,n=t?F.characters.filter(l=>t.startCode<=l.code&&t.endCode>=l.code||t.extra?.includes(l.code)):F.characters;if(!e)return{selectedBlock:t||null,blocks:F.blocks,characters:r!==null?n:n.slice(0,Pe)};let i=e?.trim().split(" "),o=i.map(l=>`'${l}`).join(" ")||"",c=new yt.default(n,{keys:["name","aliases","old_name"],useExtendedSearch:!0,includeScore:!0}).search(o,{limit:Pe}).map(l=>({...l.item,score:l.score}));if(i.length===1){let l=zr(i[0]);if(l){let f=c.findIndex(d=>d.code===l.code);f>-1&&c.splice(f,1),c.unshift({...l,score:-1})}}let h=c.some(l=>l.score===-1),u=c.length>1&&h?c.filter(l=>l.score!==-1):c;return{selectedBlock:t||null,blocks:F.blocks,characters:u}}var O=require("react"),Ue=require("@raycast/api"),Gr=(e,r)=>{let[t,n]=(0,O.useState)(r),[i,o]=(0,O.useState)(!1);(0,O.useEffect)(()=>{let a=!1;return(async()=>{let c=await Ue.LocalStorage.getItem(e);typeof c=="string"?a||(n(JSON.parse(c)),o(!0)):a||o(!0)})(),()=>{a=!0}},[]);let s=(0,O.useCallback)(a=>{n(c=>{let h=typeof a=="function"?a(c):a;return Ue.LocalStorage.setItem(e,JSON.stringify(h)),h})},[]);return[t,s,i]};function St(e){let{key:r,comparator:t,limit:n=10}=e,[i,o,s]=Gr(r,[]),a=(0,O.useCallback)(u=>{o(l=>l.find(d=>typeof t=="function"?t(d,u):d[t]===u[t])?l:[u,...l].slice(0,n))},[t,n]),c=(0,O.useCallback)(u=>{o(l=>l.find(d=>typeof t=="function"?t(d,u):d[t]===u[t])?l.filter(d=>typeof t=="function"?!t(d,u):d[t]!==u[t]):l)},[t]),h=(0,O.useCallback)(()=>{o([])},[t,n]);return{recentlyUsedItems:i,addToRecentlyUsedItems:a,areRecentlyUsedItemsLoaded:s,clearRecentlyUsedItems:h,removeFromRecentlyUsedItems:c}}function _t(e,r,t,n){let i=e.blocks.filter(o=>!e.selectedBlock||o.blockName===e.selectedBlock.blockName).map(o=>{let s=e.characters.filter(c=>o.startCode<=c.code&&o.endCode>=c.code||o.extra?.includes(c.code)).map(c=>o.extra?.includes(c.code)?{...c,isExtra:!0}:c),a=s.reduce((c,h)=>Math.min(c,h.score||1),1);return{sectionTitle:o.blockName,lowestScore:a,items:s}});return r.length&&!n&&i.unshift({sectionTitle:"Recently Used",lowestScore:0,items:t?r:r.filter(o=>e.characters.find(s=>s.code===o.code))}),i.sort((o,s)=>o.lowestScore-s.lowestScore),i}var bt=require("react/jsx-runtime"),Ct=(0,L.createContext)(null),j=()=>(0,L.useContext)(Ct),Mt=({children:e})=>{let[r,t]=(0,L.useState)(null),[n,i]=(0,L.useState)(ge(null,r)),o=(0,L.useRef)("");function s(v){o.current=v,i(ge(v,r))}function a(v){t(v);let y=o.current;i(ge(y,v))}let{recentlyUsedItems:c,addToRecentlyUsedItems:h,areRecentlyUsedItemsLoaded:u,clearRecentlyUsedItems:l,removeFromRecentlyUsedItems:f}=St({key:"recently-used",comparator:"code"}),d=(0,L.useCallback)(v=>c.some(y=>y.code===v.code),[c]),m=(0,L.useMemo)(()=>u?_t(n,c,!o.current,r):[],[n,c,u,r]),x=!h||!m.length,p=(0,L.useMemo)(()=>n.blocks.map(v=>v.blockName).filter(v=>v!=="Recently Used").sort((v,y)=>v.localeCompare(y)),[m]);return(0,bt.jsx)(Ct.Provider,{value:{list:m,loading:x,addToRecentlyUsedItems:h,onSearchTextChange:s,clearRecentlyUsedItems:l,isRecentlyUsed:d,removeFromRecentlyUsedItems:f,availableSets:p,setDatasetFilterAnd:a},children:e})};var ee=require("react/jsx-runtime"),Kr=()=>{let{availableSets:e,setDatasetFilterAnd:r}=j();return(0,ee.jsxs)(me.List.Dropdown,{tooltip:"Select a character set",onChange:t=>r(t==="null"?null:t),children:[(0,ee.jsx)(me.List.Dropdown.Item,{title:"<All Characters>",value:"null"},"all"),e.map(t=>(0,ee.jsx)(me.List.Dropdown.Item,{title:t,value:t},t))]})},ve=Kr;var De=typeof Buffer=="function",gn=typeof TextDecoder=="function"?new TextDecoder:void 0,At=typeof TextEncoder=="function"?new TextEncoder:void 0,Vr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",te=Array.prototype.slice.call(Vr),mn=(e=>{let r={};return e.forEach((t,n)=>r[t]=n),r})(te);var N=String.fromCharCode.bind(String),vn=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Hr=e=>e.replace(/=/g,"").replace(/[+\/]/g,r=>r=="+"?"-":"_");var Yr=e=>{let r,t,n,i,o="",s=e.length%3;for(let a=0;a<e.length;){if((t=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");r=t<<16|n<<8|i,o+=te[r>>18&63]+te[r>>12&63]+te[r>>6&63]+te[r&63]}return s?o.slice(0,s-3)+"===".substring(s):o},It=typeof btoa=="function"?e=>btoa(e):De?e=>Buffer.from(e,"binary").toString("base64"):Yr,Jr=De?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,i=e.length;n<i;n+=4096)t.push(N.apply(null,e.subarray(n,n+4096)));return It(t.join(""))};var Qr=e=>{if(e.length<2){var r=e.charCodeAt(0);return r<128?e:r<2048?N(192|r>>>6)+N(128|r&63):N(224|r>>>12&15)+N(128|r>>>6&63)+N(128|r&63)}else{var r=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return N(240|r>>>18&7)+N(128|r>>>12&63)+N(128|r>>>6&63)+N(128|r&63)}},Zr=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Xr=e=>e.replace(Zr,Qr),Lt=De?e=>Buffer.from(e,"utf8").toString("base64"):At?e=>Jr(At.encode(e)):e=>It(Xr(e)),Be=(e,r=!1)=>r?Hr(Lt(e)):Lt(e);var Rt=require("react"),X=require("@raycast/api");var Et=require("react"),I=require("@raycast/api");var re=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),ne=e=>e.toString(16).padStart(4,"0").toUpperCase(),We=(e,r=!1)=>{let t=e;e==="&"?t="&amp;":e==="<"?t="&lt;":e===">"&&(t="&gt;");let n=r?"#fff":"#000",i=200;return`
  <svg height="${i}" width="${i}">
    <rect fill="transparent" x="0" y="0" width="${i}" height="${i}"></rect>
    <text x="${i/2}" y="${i/1.3}" fill="${n}" text-anchor="middle" alignment-baseline="central" font-size="${i/2}" line-height="0" font-family="mono-space">${t}</text>
  </svg>
  `},kt=(e,r)=>r.sectionTitle==="Ancient Symbols"?"?":e.value,$t=(e,r)=>{let t=re(e.name);return r.sectionTitle==="Ancient Symbols"?`${t} (see in Grid Mode)`:t};var k=require("react/jsx-runtime"),pe=({item:e})=>{let{addToRecentlyUsedItems:r,isRecentlyUsed:t,clearRecentlyUsedItems:n,removeFromRecentlyUsedItems:i}=j(),o=(0,Et.useMemo)(()=>t(e),[t,e]);return(0,k.jsxs)(I.ActionPanel,{children:[(0,k.jsxs)(I.ActionPanel.Section,{title:"Unicode",children:[(0,k.jsx)(I.Action.Paste,{title:"Paste Character in Active App",content:e.value,onPaste:()=>r(e)}),(0,k.jsx)(I.Action.CopyToClipboard,{title:"Copy Character to Clipboard",content:e.value,onCopy:()=>r(e)})]}),(0,k.jsxs)(I.ActionPanel.Section,{title:"Misc",children:[(0,k.jsx)(I.Action.CopyToClipboard,{title:`Copy "${ne(e.code)}" (HEX) to Clipboard`,content:ne(e.code),onCopy:()=>r(e),shortcut:{modifiers:["cmd"],key:"h"}}),(0,k.jsx)(I.Action.CopyToClipboard,{title:`Copy "&#${e.code};" (HTML) to Clipboard`,content:`&#${e.code};`,onCopy:()=>r(e),shortcut:{modifiers:["cmd","shift"],key:"h"}}),o?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(I.Action,{title:"Remove from Recently Used",icon:I.Icon.Trash,onAction:()=>i(e)}),(0,k.jsx)(I.Action,{title:"Remove All from Recently Used",icon:I.Icon.Trash,onAction:()=>n()})]}):null]})]})};var je=require("react/jsx-runtime"),wt=(0,Rt.memo)(({item:e})=>{let[r,t]=[`data:image/svg+xml;base64,${Be(We(e.value))}`,`data:image/svg+xml;base64,${Be(We(e.value,!0))}`],n=[`Name: ${re(e.name)}`,`Dec: ${e.code}`,`Hex: ${ne(e.code)}`,e.aliases?.length?`Aliases: "${e.aliases.map(re).join(", ")}"`:"",...e.isExtra?[" ","> Note: This character is actually in a different Character Set"]:[""]].filter(i=>i.length>0).join(`
`);return(0,je.jsx)(X.Grid.Item,{title:re(e.name),accessory:{tooltip:n,icon:{source:e.isExtra?"exclamation-outline.svg":X.Icon.QuestionMarkCircle,tintColor:X.Color.PrimaryText}},content:{source:{light:r,dark:t}},actions:(0,je.jsx)(pe,{item:e})},e.name)});var ie=require("react/jsx-runtime"),Tt=(0,xe.memo)(()=>{let e=(0,xe.useMemo)(()=>vt(),[]),{list:r,onSearchTextChange:t,loading:n}=j();return(0,ie.jsx)(ye.Grid,{isLoading:n,onSearchTextChange:t,filtering:!1,searchBarAccessory:(0,ie.jsx)(ve,{}),columns:e,children:r.map(i=>(0,ie.jsx)(ye.Grid.Section,{title:i.sectionTitle,aspectRatio:"1",fit:ye.Grid.Fit.Fill,children:i.items.map(o=>{let s=[];return o.aliases?.length&&s.push({icon:"\u2328\uFE0F",text:`${o.aliases.join(", ")}`}),(0,ie.jsx)(wt,{item:o},`${i.sectionTitle}-${o.code}-${o.name}`)})},`${i.sectionTitle}-${i.items.length}`))})});var Ft=require("react"),Se=require("@raycast/api");var q=require("react/jsx-runtime"),Ot=(0,Ft.memo)(()=>{let{list:e,onSearchTextChange:r,loading:t}=j();return(0,q.jsx)(Se.List,{isLoading:t,onSearchTextChange:r,filtering:!1,searchBarAccessory:(0,q.jsx)(ve,{}),children:e.map(n=>(0,q.jsx)(Se.List.Section,{title:n.sectionTitle,children:n.items.map(i=>{let o=[];return i.aliases?.length&&o.push({icon:"\u2328\uFE0F",text:`${i.aliases.join(", ")}`}),(0,q.jsx)(Se.List.Item,{title:kt(i,n),subtitle:$t(i,n),accessories:o,actions:(0,q.jsx)(pe,{item:i})},`${i.code}-${i.name}`)})},`${n.sectionTitle}-${n.items.length}`))})});var _e=require("react/jsx-runtime");function Nt(){return(0,_e.jsx)(Mt,{children:mt==="list"?(0,_e.jsx)(Ot,{}):(0,_e.jsx)(Tt,{})})}
