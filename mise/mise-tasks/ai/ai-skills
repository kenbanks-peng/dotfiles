#!/usr/bin/env zsh
# [MISE] description="Add ai skills from selection"
# [MISE] dir="{{cwd}}"

SCRIPT_DIR="${0:A:h}"
SKILLS_FILE="$SCRIPT_DIR/skills.txt"

if [[ ! -f "$SKILLS_FILE" ]]; then
    echo "Error: skills.txt not found at $SKILLS_FILE"
    exit 1
fi

selected=$(grep -v '^$' "$SKILLS_FILE" | fzf --prompt="Select skill to add: " --height=40% --reverse)

if [[ -n "$selected" ]]; then
    skills add "$selected"
else
    echo "No skill selected"
fi
